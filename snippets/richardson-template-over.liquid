<script>
document.addEventListener('DOMContentLoaded', () => {
    const input = document.querySelectorAll('.quantity__input')[1];
    const priceElement = document.querySelector('.ui-price-regular .price-item--regular');
    const subPriceElement = document.querySelector('.sub-total-price-value');

    input.min = 12;
    input.value = 12;
    
    if (!input || !priceElement || !subPriceElement) {
        console.error('Required elements not found');
        return;
    }
    
    const priceText = priceElement.innerText;
    const price = parseFloat(priceText.replace(/[^0-9.]/g, ''));
    
    const updateTotalPrice = () => {
        const quantity = parseInt(input.value) || 0;
        const total = quantity * price;
        
        subPriceElement.innerText = "$" + total.toFixed(2) + " USD";
    };
    
    updateTotalPrice();
    
    input.addEventListener('input', updateTotalPrice);
    input.addEventListener('change', updateTotalPrice);
    
    const form = input.closest('form');
    if (form) {
        form.addEventListener('qty_change', updateTotalPrice);
    }
});
</script>